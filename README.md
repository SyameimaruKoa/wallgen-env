# 壁紙作成支援スクリプト群

このリポジトリには、壁紙画像を整理・加工するためのわっち特製スクリプトが入っておるのじゃ。

これらを使って、おぬしの壁紙ライフをもっと快適にするがよい！

## スクリプト一覧じゃ

### 1. `Wallpaper-AutoSort.sh` （NEW! 統合版）

以前の imgFolderMove と imgSizeMove を統合し、さらに使いやすくした決定版じゃ。

画像を 「デバイス判定（アスペクト比）」 と 「画質選別（解像度）」 の2つの基準でチェックし、一度の実行で適切なフォルダへ全自動で振り分けるぞ。

処理中の進捗バーや完了予想時間（ETA）も表示される親切設計じゃ。

**機能:**

* カレントディレクトリにある画像ファイル（.jpg, .jpeg, .png, .webp）を対象とする。
* **スクリプトが存在する階層の一つ上** に `壁紙転送` フォルダを作成し、その中に整理する。
* **デバイス別の判定基準と画質選別:**
  * **GearS3** : 360x360px 固定
  * **スマホ** : 縦長かつアスペクト比 2.22 近辺
  * S22Uサイズ (高さ3200px) 以上なら `スマホ`、未満なら `スマホ_S22U未満` へ。
  * **iPad Pro** : アスペクト比 1.43 (約4:3) 近辺
  * 長辺 2388px 以上なら `iPad Pro`、未満なら `iPad Pro_2388未満` へ。
  * **パソコン** : 上記以外
  * **4K以上** : `パソコン` フォルダへ (最高画質)。
  * **FHD以上 4K未満** : `パソコン_4K未満` フォルダへ。
  * **FHD未満** : `パソコン_FHD未満` フォルダへ。
  * ※パソコン用の「未満」フォルダでは、画像が 16:9 の場合さらに `-16_9` 付きのフォルダに分けられる。

フォルダ構成のイメージ:

実行すると、以下のように自動生成されるのじゃ。

```text
(親ディレクトリ)
  ┗ 壁紙転送/
    ┣ GearS3/             (360x360)
    ┣ スマホ/              (S22Uサイズ以上)
    ┣ スマホ_S22U未満/       (低画質)
    ┣ iPad Pro/           (2388px以上)
    ┣ iPad Pro_2388未満/    (低画質)
    ┣ パソコン/             (4K以上)
    ┣ パソコン_4K未満/      (FHD以上～4K未満) [16:9フォルダあり]
    ┗ パソコン_FHD未満/     (FHD未満) [16:9フォルダあり]
```

使い方:

整理したい画像が入っているディレクトリに移動し、スクリプトのパスを指定して実行するだけじゃ。

引数は不要じゃよ。

```bash
# 例: 画像フォルダで実行する場合（スクリプトが ../bin/ にあると仮定）
../bin/Wallpaper-AutoSort.sh
```

**必要なもの:**

* `bc` コマンド
* `ImageMagick` (identify コマンド)

### 2. `Wallpaper-Create_imgResize.sh`

指定した画像ファイルを、柔軟なオプションでリサイズし、JPG または WebP 形式で出力するスクリプトじゃ。

壁紙を作成する際など、様々な形式の画像を特定のルールで一括変換したいときに役立つぞ。

**機能:**

* カレントディレクトリにある、指定した拡張子の画像ファイルを全て処理対象とする。
* リサイズ方法を 2 種類から選択可能。
  1. **縦基準（デフォルト）** : 画像の縦の長さを指定した解像度に合わせる。
  2. **長辺基準 (`fit`)** : 画像の最も長い辺を指定した解像度に合わせ、アスペクト比を維持したまま縮小する。
* 出力形式を JPG（デフォルト）または WebP から選択可能。
* 出力ファイルは、元のディレクトリ名に `_Resized_[解像度]px` を付けた新しいフォルダに保存される。

**使い方:**

スクリプトの後に、必須の引数と、必要に応じてオプションを付けて実行するのじゃ。

オプションの fit と webp は、順不同で、片方だけの指定も可能じゃ。

**基本構文:**

```bash
./Wallpaper-Create_imgResize.sh [解像度] [元拡張子] {fit} {webp}
```

**使用例:**

* 例 1: 縦長の壁紙用にリサイズ (JPG 出力)
  カレントディレクトリの全 pngファイルを、高さを 2400ピクセルにして jpgで出力する。

```bash
./Wallpaper-Create_imgResize.sh 2400 png
```
* 例 2: 長辺を基準にリサイズ (JPG 出力)
  カレントディレクトリの全 heicファイルを、長辺が 2778ピクセルになるように jpgで出力する。

```bash
./Wallpaper-Create_imgResize.sh 2778 heic fit
```
* 例 3: WebP 形式で出力
  カレントディレクトリの全 pngファイルを、高さを 1200ピクセルにして webpで出力する。

```bash
./Wallpaper-Create_imgResize.sh 1200 png webp
```

**必要なもの:**

* `magick` または `convert` コマンド (`ImageMagick`に含まれておるぞ)

### (旧) 廃止されたスクリプトについて

以下のスクリプトは Wallpaper-AutoSort.sh に機能が統合されたため、アーカイブ扱いじゃ。

個別の機能を使いたい場合以外は、新しい統合版を使うとよいぞ。

* `Wallpaper-Create_imgFolderMove.sh` (デバイス振り分けのみ)
* `Wallpaper-Create_imgSizeMove.sh` (サイズ選別のみ)
